# SmileFactory - Root Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# ENVIRONMENT
# ==========================================
NODE_ENV=development
# Options: development, staging, production

# ==========================================
# BACKEND SELECTION
# ==========================================
BACKEND_TYPE=nestjs
# Options: nestjs, springboot

# ==========================================
# DOCKER CONFIGURATION
# ==========================================
COMPOSE_PROJECT_NAME=smilefactory
DOCKER_REGISTRY=registry.gitlab.com/yourorg/smilefactory

# ==========================================
# DATABASE (PostgreSQL)
# ==========================================
# For local development (Docker Compose)
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=smilefactory
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres

# Full connection string
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# ==========================================
# SUPABASE (Production Database)
# ==========================================
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-key-here

# ==========================================
# REDIS (Caching & Sessions)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
# Leave empty for local development

# ==========================================
# JWT CONFIGURATION
# ==========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_EXPIRATION=30d

# ==========================================
# API CONFIGURATION
# ==========================================
API_GATEWAY_PORT=3000
AUTH_SERVICE_PORT=3001
USER_SERVICE_PORT=3002
FEED_SERVICE_PORT=3003
MESSAGING_SERVICE_PORT=3004
CONNECTION_SERVICE_PORT=3005
EVENTS_SERVICE_PORT=3006
MARKETPLACE_SERVICE_PORT=3007
NOTIFICATION_SERVICE_PORT=3008
SEARCH_SERVICE_PORT=3009

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================
FRONTEND_PORT=5173
FRONTEND_URL=http://localhost:5173

# ==========================================
# CORS CONFIGURATION
# ==========================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# ==========================================
# EMAIL SERVICE (SendGrid)
# ==========================================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@smilefactory.com
SENDGRID_FROM_NAME=SmileFactory

# ==========================================
# FILE UPLOAD (AWS S3 or Supabase Storage)
# ==========================================
STORAGE_PROVIDER=supabase
# Options: supabase, s3, local

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=smilefactory-uploads

# ==========================================
# MONITORING & LOGGING
# ==========================================
LOG_LEVEL=debug
# Options: error, warn, info, debug, verbose

SENTRY_DSN=
# Optional: Sentry error tracking

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ==========================================
# DEPLOYMENT SERVERS
# ==========================================
# Development Server
DEV_SERVER_HOST=10.132.228.90
DEV_SERVER_USER=deploy
DEV_SERVER_PATH=/srv/smilefactory

# Staging Server
STAGING_SERVER_HOST=10.132.228.91
STAGING_SERVER_USER=deploy
STAGING_SERVER_PATH=/srv/smilefactory

# Production Server
PROD_SERVER_HOST=10.132.228.92
PROD_SERVER_USER=deploy
PROD_SERVER_PATH=/srv/smilefactory

# ==========================================
# FEATURE FLAGS
# ==========================================
ENABLE_REGISTRATION=true
ENABLE_OAUTH=false
ENABLE_TWO_FACTOR=false
ENABLE_EMAIL_VERIFICATION=true

# ==========================================
# THIRD-PARTY INTEGRATIONS
# ==========================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# LinkedIn OAuth
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=

# Payment Gateway (Stripe)
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ==========================================
# SEARCH (Elasticsearch)
# ==========================================
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ==========================================
# MESSAGE QUEUE (RabbitMQ)
# ==========================================
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_EXCHANGE=smilefactory
RABBITMQ_QUEUE_PREFIX=smilefactory_

# ==========================================
# SECURITY
# ==========================================
# Session Secret
SESSION_SECRET=your-session-secret-change-this

# Encryption Key
ENCRYPTION_KEY=your-encryption-key-32-characters

# CSRF Protection
CSRF_SECRET=your-csrf-secret

# ==========================================
# PERFORMANCE
# ==========================================
# Cache TTL (seconds)
CACHE_TTL=3600

# Max file upload size (bytes)
MAX_FILE_SIZE=10485760
# 10MB = 10 * 1024 * 1024

# ==========================================
# DEVELOPMENT TOOLS
# ==========================================
# Enable API documentation
ENABLE_SWAGGER=true

# Enable GraphQL Playground
ENABLE_GRAPHQL_PLAYGROUND=true

# Enable debug mode
DEBUG=false

